!function(){var e="undefined"!=typeof exports?exports:this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var r,o,i=0,a=t,s="";e.charAt(0|i)||(a="=",i%1);s+=a.charAt(63&r>>8-i%1*8)){if((o=e.charCodeAt(i+=.75))>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return s}),e.atob||(e.atob=function(e){if((e=e.replace(/=+$/,"")).length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,i=0,a=0,s="";o=e.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?s+=String.fromCharCode(255&r>>(-2*i&6)):0)o=t.indexOf(o);return s})}();var Base64Binary={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var t=Math.ceil(3*e.length/4),n=new ArrayBuffer(t);return this.decode(e,n),n},decode:function(e,t){var n,r,o,i,a,s,u,c=this._keyStr.indexOf(e.charAt(e.length-1)),l=this._keyStr.indexOf(e.charAt(e.length-1)),f=Math.ceil(3*e.length/4);64==c&&f--,64==l&&f--;var d=0,p=0;for(n=t?new Uint8Array(t):new Uint8Array(f),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),d=0;d<f;d+=3)r=this._keyStr.indexOf(e.charAt(p++))<<2|(a=this._keyStr.indexOf(e.charAt(p++)))>>4,o=(15&a)<<4|(s=this._keyStr.indexOf(e.charAt(p++)))>>2,i=(3&s)<<6|(u=this._keyStr.indexOf(e.charAt(p++))),n[d]=r,64!=s&&(n[d+1]=o),64!=u&&(n[d+2]=i);return n}};function extend(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function mobilecheck(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function debounce(e,t,n){var r;return function(){var o=this,i=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),a&&e.apply(o,i)}}function getMousePos(e){var t=0,n=0;if(!e)e=window.event;return e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}}window.AudioContext=window.AudioContext||window.webkitAudioContext||null,window.OfflineAudioContext=window.OfflineAudioContext||window.webkitOfflineAudioContext||null,function(e){var t,n,r,o=function(e){return"[object Function]"===Object.prototype.toString.call(e)||"[object AudioContextConstructor]"===Object.prototype.toString.call(e)};o(e)&&(n=new e).destination&&n.sampleRate&&(t=e.prototype,r=Object.getPrototypeOf(n.createBufferSource()),o(r.start)||o(r.noteOn)&&(r.start=function(e,t,n){switch(arguments.length){case 0:throw new Error("Not enough arguments.");case 1:this.noteOn(e);break;case 2:if(!this.buffer)throw new Error("Missing AudioBuffer");this.noteGrainOn(e,t,this.buffer.duration-t);break;case 3:this.noteGrainOn(e,t,n)}}),o(r.noteOn)||(r.noteOn=r.start),o(r.noteGrainOn)||(r.noteGrainOn=r.start),o(r.stop)||(r.stop=r.noteOff),o(r.noteOff)||(r.noteOff=r.stop),[["createGainNode","createGain"],["createDelayNode","createDelay"],["createJavaScriptNode","createScriptProcessor"]].forEach(function(e){for(var t,n;e.length;)t=e.pop(),o(this[t])?this[e.pop()]=this[t]:(n=e.pop(),this[t]=this[n])},t))}(window.AudioContext),"undefined"==typeof MIDI&&(MIDI={}),function(e){"use strict";var t={},n=0;e.audioDetect=function(e){if(navigator.requestMIDIAccess)if(Function.prototype.toString.call(navigator.requestMIDIAccess).indexOf("[native code]"))t.webmidi=!0;else for(var r=0;navigator.plugins.length>r;r++){navigator.plugins[r].name.indexOf("Jazz-Plugin")>=0&&(t.webmidi=!0)}if("undefined"==typeof Audio)return e({});t.audiotag=!0,(window.AudioContext||window.webkitAudioContext)&&(t.webaudio=!0);var o=new Audio;if(void 0===o.canPlayType)return e(t);var i=o.canPlayType('audio/ogg; codecs="vorbis"');i="probably"===i||"maybe"===i;var a=o.canPlayType("audio/mpeg");if(a="probably"===a||"maybe"===a,i||a){i&&function(e){n++;var r=document.body,o=new Audio,i=e.split(";")[0];o.id="audio",o.setAttribute("preload","auto"),o.setAttribute("audiobuffer",!0),o.addEventListener("error",function(){r.removeChild(o),t[i]=!1,n--},!1),o.addEventListener("canplaythrough",function(){r.removeChild(o),t[i]=!0,n--},!1),o.src="data:"+e,r.appendChild(o)}("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=");var s=(new Date).getTime(),u=window.setInterval(function(){var r=(new Date).getTime();n&&!(r-s>5e3)||(window.clearInterval(u),e(t))},1)}else e(t)}}(MIDI),function(e){"use strict";e.GM=function(e){var t=function(e){return e.replace(/[^a-z0-9 ]/gi,"").replace(/[ ]/g,"_").toLowerCase()},n={byName:{},byId:{},byCategory:{}};for(var r in e)for(var o=e[r],i=0,a=o.length;i<a;i++){var s=o[i];if(s){var u=parseInt(s.substr(0,s.indexOf(" ")),10);s=s.replace(u+" ",""),n.byId[--u]=n.byName[t(s)]=n.byCategory[t(r)]={id:t(s),instrument:s,number:u,category:r}}}return n}({Piano:["1 Acoustic Grand Piano","2 Bright Acoustic Piano","3 Electric Grand Piano","4 Honky-tonk Piano","5 Electric Piano 1","6 Electric Piano 2","7 Harpsichord","8 Clavinet"],"Chromatic Percussion":["9 Celesta","10 Glockenspiel","11 Music Box","12 Vibraphone","13 Marimba","14 Xylophone","15 Tubular Bells","16 Dulcimer"],Organ:["17 Drawbar Organ","18 Percussive Organ","19 Rock Organ","20 Church Organ","21 Reed Organ","22 Accordion","23 Harmonica","24 Tango Accordion"],Guitar:["25 Acoustic Guitar (nylon)","26 Acoustic Guitar (steel)","27 Electric Guitar (jazz)","28 Electric Guitar (clean)","29 Electric Guitar (muted)","30 Overdriven Guitar","31 Distortion Guitar","32 Guitar Harmonics"],Bass:["33 Acoustic Bass","34 Electric Bass (finger)","35 Electric Bass (pick)","36 Fretless Bass","37 Slap Bass 1","38 Slap Bass 2","39 Synth Bass 1","40 Synth Bass 2"],Strings:["41 Violin","42 Viola","43 Cello","44 Contrabass","45 Tremolo Strings","46 Pizzicato Strings","47 Orchestral Harp","48 Timpani"],Ensemble:["49 String Ensemble 1","50 String Ensemble 2","51 Synth Strings 1","52 Synth Strings 2","53 Choir Aahs","54 Voice Oohs","55 Synth Choir","56 Orchestra Hit"],Brass:["57 Trumpet","58 Trombone","59 Tuba","60 Muted Trumpet","61 French Horn","62 Brass Section","63 Synth Brass 1","64 Synth Brass 2"],Reed:["65 Soprano Sax","66 Alto Sax","67 Tenor Sax","68 Baritone Sax","69 Oboe","70 English Horn","71 Bassoon","72 Clarinet"],Pipe:["73 Piccolo","74 Flute","75 Recorder","76 Pan Flute","77 Blown Bottle","78 Shakuhachi","79 Whistle","80 Ocarina"],"Synth Lead":["81 Lead 1 (square)","82 Lead 2 (sawtooth)","83 Lead 3 (calliope)","84 Lead 4 (chiff)","85 Lead 5 (charang)","86 Lead 6 (voice)","87 Lead 7 (fifths)","88 Lead 8 (bass + lead)"],"Synth Pad":["89 Pad 1 (new age)","90 Pad 2 (warm)","91 Pad 3 (polysynth)","92 Pad 4 (choir)","93 Pad 5 (bowed)","94 Pad 6 (metallic)","95 Pad 7 (halo)","96 Pad 8 (sweep)"],"Synth Effects":["97 FX 1 (rain)","98 FX 2 (soundtrack)","99 FX 3 (crystal)","100 FX 4 (atmosphere)","101 FX 5 (brightness)","102 FX 6 (goblins)","103 FX 7 (echoes)","104 FX 8 (sci-fi)"],Ethnic:["105 Sitar","106 Banjo","107 Shamisen","108 Koto","109 Kalimba","110 Bagpipe","111 Fiddle","112 Shanai"],Percussive:["113 Tinkle Bell","114 Agogo","115 Steel Drums","116 Woodblock","117 Taiko Drum","118 Melodic Tom","119 Synth Drum"],"Sound effects":["120 Reverse Cymbal","121 Guitar Fret Noise","122 Breath Noise","123 Seashore","124 Bird Tweet","125 Telephone Ring","126 Helicopter","127 Applause","128 Gunshot"]}),e.getInstrument=function(t){var n=e.channels[t];return n&&n.instrument},e.setInstrument=function(t,n,r){var o=e.channels[t];if(r)return setTimeout(function(){o.instrument=n},r);o.instrument=n},e.getMono=function(t){var n=e.channels[t];return n&&n.mono},e.setMono=function(t,n,r){var o=e.channels[t];if(r)return setTimeout(function(){o.mono=n},r);o.mono=n},e.getOmni=function(t){var n=e.channels[t];return n&&n.omni},e.setOmni=function(t,n){var r=e.channels[t];if(delay)return setTimeout(function(){r.omni=n},delay);r.omni=n},e.getSolo=function(t){var n=e.channels[t];return n&&n.solo},e.setSolo=function(t,n){var r=e.channels[t];if(delay)return setTimeout(function(){r.solo=n},delay);r.solo=n},e.channels=function(){for(var e={},t=0;t<16;t++)e[t]={instrument:t,pitchBend:0,mute:!1,mono:!1,omni:!1,solo:!1};return e}(),e.keyToNote={},e.noteToKey={},function(){for(var t=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],n=21;n<=108;n++){var r=t[n%12]+((n-12)/12>>0);e.keyToNote[r]=n,e.noteToKey[n]=r}}()}(MIDI),"undefined"==typeof MIDI&&(MIDI={}),MIDI.Soundfont=MIDI.Soundfont||{},MIDI.Player=MIDI.Player||{},function(e){"use strict";e.DEBUG=!0,e.USE_XHR=!0,e.soundfontUrl="./soundfont/",e.loadPlugin=function(n){"function"==typeof n&&(n={onsuccess:n}),e.soundfontUrl=n.soundfontUrl||e.soundfontUrl,e.audioDetect(function(r){var o=window.location.hash,i="";if(r[n.api]?i=n.api:r[o.substr(1)]?i=o.substr(1):r.webmidi?i="webmidi":window.AudioContext?i="webaudio":window.Audio&&(i="audiotag"),t[i]){if(n.targetFormat)var a=n.targetFormat;else a=r["audio/ogg"]?"ogg":"mp3";e.__api=i,e.__audioFormat=a,e.supports=r,e.loadResource(n)}})},e.loadResource=function(n){var r=n.instruments||n.instrument||"acoustic_grand_piano";"object"!=typeof r&&(r=r||0===r?[r]:[]);for(var o=0;o<r.length;o++){var i=r[o];i===+i&&e.GM.byId[i]&&(r[o]=e.GM.byId[i].id)}n.format=e.__audioFormat,n.instruments=r,t[e.__api](n)};var t={webmidi:function(t){e.WebMIDI.connect(t)},audiotag:function(e){n(e,"AudioTag")},webaudio:function(e){n(e,"WebAudio")}},n=function(t,n){for(var o=t.format,i=t.instruments,a=t.onprogress,s=t.onerror,u=i.length,c=u,l=function(){--c||(a&&a("load",1),e[n].connect(t))},f=0;f<u;f++){var d=i[f];MIDI.Soundfont[d]?l():r(i[f],o,function(e,t){a&&a("load",t/u+(u-c)/u,d)},function(){l()},s)}},r=function(t,n,r,o,i){var a=e.soundfontUrl+t+"-"+n+".js";e.USE_XHR?e.util.request({url:a,format:"text",onerror:i,onprogress:r,onsuccess:function(e,t){var n=document.createElement("script");n.language="javascript",n.type="text/javascript",n.text=t,document.body.appendChild(n),o()}}):dom.loadScript.add({url:a,verify:'MIDI.Soundfont["'+t+'"]',onerror:i,onsuccess:function(){o()}})};e.setDefaultPlugin=function(t){for(var n in t)e[n]=t[n]}}(MIDI),function(e){"use strict";window.Audio&&function(){for(var t=e.AudioTag={api:"audiotag"},n={},r=127,o=-1,i=[],a=[],s={},u=0;u<12;u++)i[u]=new Audio;var c=function(t,n){if(e.channels[t]){var u=e.channels[t].instrument,c=e.GM.byId[u].id;if(n=s[n]){var l=c+""+n.id,f=(o+1)%i.length,d=i[f];if(a[f]=l,!e.Soundfont[c])return void(e.DEBUG&&console.log("404",c));d.src=e.Soundfont[c][n.id],d.volume=r/127,d.play(),o=f}}},l=function(t,n){if(e.channels[t]){var r=e.channels[t].instrument,u=e.GM.byId[r].id;if(n=s[n])for(var c=u+""+n.id,l=0,f=i.length;l<f;l++){var d=(l+o+1)%f,p=a[d];if(p&&p==c)return i[d].pause(),void(a[d]=null)}}};t.audioBuffers=i,t.send=function(e,t){},t.setController=function(e,t,n,r){},t.setVolume=function(e,t){r=t},t.programChange=function(t,n){e.channels[t].instrument=n},t.pitchBend=function(e,t,n){},t.noteOn=function(e,t,r,o){var i=n[t];if(s[i])return o?setTimeout(function(){c(e,i)},1e3*o):void c(e,i)},t.noteOff=function(e,t,n){},t.chordOn=function(e,t,r,o){for(var i=0;i<t.length;i++){var a=t[i],u=n[a];if(s[u]){if(o)return setTimeout(function(){c(e,u)},1e3*o);c(e,u)}}},t.chordOff=function(e,t,r){for(var o=0;o<t.length;o++){var i=t[o],a=n[i];if(s[a]){if(r)return setTimeout(function(){l(e,a)},1e3*r);l(e,a)}}},t.stopAllNotes=function(){for(var e=0,t=i.length;e<t;e++)i[e].pause()},t.connect=function(r){for(var o in e.setDefaultPlugin(t),e.keyToNote)n[e.keyToNote[o]]=o,s[o]={id:o};r.onsuccess&&r.onsuccess()}}()}(MIDI),function(e){"use strict";window.AudioContext&&function(){var t,n=!1,r=e.WebAudio={api:"webaudio"},o={},i={},a=127,s={};r.audioBuffers=s,r.send=function(e,t){},r.setController=function(e,t,n,r){},r.setVolume=function(e,t,n){n?setTimeout(function(){a=t},1e3*n):a=t},r.programChange=function(t,n,r){e.channels[t].instrument=n},r.pitchBend=function(t,n,r){e.channels[t].pitchBend=n},r.noteOn=function(r,u,c,l){l=l||0;var f=e.channels[r].instrument,d=s[f+""+u];if(d){if(l<t.currentTime&&(l+=t.currentTime),n)var p=t.createMediaElementSource(d);else(p=t.createBufferSource()).buffer=d;if(i){var m=p;for(var h in i)m.connect(i[h].input),m=i[h]}var g=c/127*(a/127)*2-1;if(p.connect(t.destination),p.playbackRate.value=1,p.gainNode=t.createGain(),p.gainNode.connect(t.destination),p.gainNode.gain.value=Math.min(1,Math.max(-1,g)),p.connect(p.gainNode),n){if(l)return setTimeout(function(){d.currentTime=0,d.play()},1e3*l);d.currentTime=0,d.play()}else p.start(l||0);return o[r+""+u]=p,p}},r.noteOff=function(r,i,a){a=a||0;var u=e.channels[r].instrument,c=s[u+""+i];if(c){a<t.currentTime&&(a+=t.currentTime);var l=o[r+""+i];if(l){if(l.gainNode){var f=l.gainNode.gain;f.linearRampToValueAtTime(f.value,a),f.linearRampToValueAtTime(-1,a+.3)}return n?a?setTimeout(function(){c.pause()},1e3*a):c.pause():l.noteOff?l.noteOff(a+.5):l.stop(a+.5),delete o[r+""+i],l}}},r.chordOn=function(e,t,n,o){for(var i,a={},s=0,u=t.length;s<u;s++)a[i=t[s]]=r.noteOn(e,i,n,o);return a},r.chordOff=function(e,t,n){for(var o,i={},a=0,s=t.length;a<s;a++)i[o=t[a]]=r.noteOff(e,o,n);return i},r.stopAllNotes=function(){for(var e in o){var n=0;n<t.currentTime&&(n+=t.currentTime);var r=o[e];r.gain.linearRampToValueAtTime(1,n),r.gain.linearRampToValueAtTime(0,n+.3),r.noteOff?r.noteOff(n+.3):r.stop(n+.3),delete o[e]}},r.setEffects=function(e){if(!t.tunajs)return console.log("Effects module not installed.");for(var n=0;n<e.length;n++){var r=e[n],o=new t.tunajs[r.type](r);o.connect(t.destination),i[r.type]=o}},r.connect=function(n){e.setDefaultPlugin(r),r.setContext(t||new(window.AudioContext||window.webkitAudioContext),n.onsuccess)},r.getContext=function(){return t},r.setContext=function(r,o,i,a){t=r,"undefined"==typeof Tuna||t.tunajs||(t.tunajs=new Tuna(t));var u=[],c=e.keyToNote;for(var l in c)u.push(l);var f=function(e){for(var t in p)if(p[t])return;o&&(o(),o=null)},d=function(r,o,i,a){var u=r[a];u&&(p[o]++,function(e,r,o){if(n){var i=new Audio;i.src=e,i.controls=!1,i.autoplay=!1,i.preload=!1,i.addEventListener("canplay",function(){r&&r(i)}),i.addEventListener("error",function(e){o&&o(e)}),document.body.appendChild(i)}else if(0===e.indexOf("data:audio")){var a=e.split(",")[1],s=Base64Binary.decodeArrayBuffer(a);t.decodeAudioData(s,r,o)}else{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=function(){t.decodeAudioData(u.response,r,o)},u.send()}}(u,function(t){t.id=a;var n=e.keyToNote[a];if(s[o+""+n]=t,0==--p[o]){r.isLoaded=!0,f()}},function(e){}))},p={};for(var m in e.Soundfont){var h=e.Soundfont[m];if(!h.isLoaded){var g=e.GM.byName[m].number;p[g]=0;for(var v=0;v<u.length;v++){d(h,g,0,l=u[v])}}}setTimeout(f,1)}}()}(MIDI),function(e){"use strict";var t=null,n=e.WebMIDI={api:"webmidi"};n.send=function(e,n){t.send(e,1e3*n)},n.setController=function(e,n,r,o){t.send([e,n,r],1e3*o)},n.setVolume=function(e,n,r){t.send([176+e,7,n],1e3*r)},n.programChange=function(e,n,r){t.send([192+e,n],1e3*r)},n.pitchBend=function(e,n,r){t.send([224+e,n],1e3*r)},n.noteOn=function(e,n,r,o){t.send([144+e,n,r],1e3*o)},n.noteOff=function(e,n,r){t.send([128+e,n,0],1e3*r)},n.chordOn=function(e,n,r,o){for(var i=0;i<n.length;i++){var a=n[i];t.send([144+e,a,r],1e3*o)}},n.chordOff=function(e,n,r){for(var o=0;o<n.length;o++){var i=n[o];t.send([128+e,i,0],1e3*r)}},n.stopAllNotes=function(){t.cancel();for(var e=0;e<16;e++)t.send([176+e,123,0])},n.connect=function(r){e.setDefaultPlugin(n);var o=function(t){if(window.AudioContext)r.api="webaudio";else{if(!window.Audio)return;r.api="audiotag"}e.loadPlugin(r)};navigator.requestMIDIAccess().then(function(e){var n=e.outputs;void 0===(t="function"==typeof n?n()[0]:n[0])?o():r.onsuccess&&r.onsuccess()},o)}}(MIDI),"undefined"==typeof MIDI&&(MIDI={}),function(e){if((e.util||(e.util={})).request=function(n,r,o,i){"use strict";"string"==typeof n&&(n={url:n});var a=n.data,s=n.url,u=n.method||(n.data?"POST":"GET"),c=n.format,l=n.headers,f=n.responseType,d=n.withCredentials||!1;r=r||n.onsuccess,o=o||n.onerror,i=i||n.onprogress;if(void 0===t||!e.loc.isLocalUrl(s)){var p=new XMLHttpRequest;if(p.open(u,s,!0),l)for(var m in l)p.setRequestHeader(m,l[m]);else a&&p.setRequestHeader("Content-type","application/x-www-form-urlencoded");return"binary"===c&&p.overrideMimeType&&p.overrideMimeType("text/plain; charset=x-user-defined"),f&&(p.responseType=f),d&&(p.withCredentials="true"),o&&"onerror"in p&&(p.onerror=o),i&&p.upload&&"onprogress"in p.upload&&(a?p.upload.onprogress=function(e){i.call(p,e,event.loaded/event.total)}:p.addEventListener("progress",function(e){var t=0;if(e.lengthComputable)t=e.total;else if(p.totalBytes)t=p.totalBytes;else{var n=parseInt(p.getResponseHeader("Content-Length-Raw"));if(!isFinite(n))return;p.totalBytes=t=n}i.call(p,e,e.loaded/t)})),p.onreadystatechange=function(t){if(4===p.readyState)if(200===p.status||304===p.status||308===p.status||0===p.status&&e.client.cordova){if(r){var n;if("xml"===c)n=t.target.responseXML;else if("text"===c)n=t.target.responseText;else if("json"===c)try{n=JSON.parse(t.target.response)}catch(e){o&&o.call(p,t)}r.call(p,t,n)}}else o&&o.call(p,t)},p.send(a),p}t.readFile(s,"utf8",function(e,t){e?o&&o(e):r&&r({responseText:t})})},"undefined"!=typeof module&&module.exports){var t=require("fs");XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,module.exports=e.util.request}}(MIDI),function(e,t,n){function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function o(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function i(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function a(e,t){var n,r,o,a=[];for("+"===(n=e)?n=["+"]:n=(n=n.replace(/\+{2}/g,"+plus")).split("+"),o=0;o<n.length;++o)r=n[o],d[r]&&(r=d[r]),t&&"keypress"!=t&&f[r]&&(r=f[r],a.push("shift")),i(r)&&a.push(r);if(n=r,!(o=t)){if(!u)for(var s in u={},c)95<s&&112>s||c.hasOwnProperty(s)&&(u[c[s]]=s);o=u[n]?"keydown":"keypress"}return"keypress"==o&&a.length&&(o="keydown"),{key:r,modifiers:a,action:o}}function s(e){function n(e){e=e||{};var t,n=!1;for(t in h)e[t]?n=!0:h[t]=0;n||(y=!1)}function u(e,t,n,r,o,a){var s,u,c=[],l=n.type;if(!p._callbacks[e])return[];for("keyup"==l&&i(e)&&(t=[e]),s=0;s<p._callbacks[e].length;++s)if(u=p._callbacks[e][s],(r||!u.seq||h[u.seq]==u.level)&&l==u.action){var f;(f="keypress"==l&&!n.metaKey&&!n.ctrlKey)||(f=u.modifiers,f=t.sort().join(",")===f.sort().join(",")),f&&(f=r&&u.seq==r&&u.level==a,(!r&&u.combo==o||f)&&p._callbacks[e].splice(s,1),c.push(u))}return c}function c(e,t,n,r){p.stopCallback(t,t.target||t.srcElement,n,r)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function l(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=o(e);t&&("keyup"==e.type&&g===t?g=!1:p.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e))}function f(e,t,r,i){function s(t){return function(){y=t,++h[e],clearTimeout(m),m=setTimeout(n,1e3)}}function u(t){c(r,t,e),"keyup"!==i&&(g=o(t)),setTimeout(n,10)}for(var l=h[e]=0;l<t.length;++l){var f=l+1===t.length?u:s(i||a(t[l+1]).action);d(t[l],f,i,e,l)}}function d(e,t,n,r,o){p._directMap[e+":"+n]=t;var i=(e=e.replace(/\s+/g," ")).split(" ");1<i.length?f(e,i,t,n):(n=a(e,n),p._callbacks[n.key]=p._callbacks[n.key]||[],u(n.key,n.modifiers,{type:n.action},r,e,o),p._callbacks[n.key][r?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:o,combo:e}))}var p=this;if(e=e||t,!(p instanceof s))return new s(e);p.target=e,p._callbacks={},p._directMap={};var m,h={},g=!1,v=!1,y=!1;p._handleKey=function(e,t,r){var o,a=u(e,t,r);t={};var s=0,l=!1;for(o=0;o<a.length;++o)a[o].seq&&(s=Math.max(s,a[o].level));for(o=0;o<a.length;++o)a[o].seq?a[o].level==s&&(l=!0,t[a[o].seq]=1,c(a[o].callback,r,a[o].combo,a[o].seq)):l||c(a[o].callback,r,a[o].combo);a="keypress"==r.type&&v,r.type!=y||i(e)||a||n(t),v=l&&"keydown"==r.type},p._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)d(e[r],t,n)},r(e,"keypress",l),r(e,"keydown",l),r(e,"keyup",l)}if(e){var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},f={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(n=1;20>n;++n)c[111+n]="f"+n;for(n=0;9>=n;++n)c[n+96]=n;s.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},s.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},s.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},s.prototype.reset=function(){return this._callbacks={},this._directMap={},this},s.prototype.stopCallback=function(e,n){return!(-1<(" "+n.className+" ").indexOf(" mousetrap ")||function e(n,r){return null!==n&&n!==t&&(n===r||e(n.parentNode,r))}(n,this.target))&&("INPUT"==n.tagName||"SELECT"==n.tagName||"TEXTAREA"==n.tagName||n.isContentEditable)},s.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},s.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);u=null},s.init=function(){var e,n=s(t);for(e in n)"_"!==e.charAt(0)&&(s[e]=function(e){return function(){return n[e].apply(n,arguments)}}(e))},s.init(),e.Mousetrap=s,"undefined"!=typeof module&&module.exports&&(module.exports=s),"function"==typeof define&&define.amd&&define(function(){return s})}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(e,t,n){var r=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=n(r):"function"==typeof define&&define.amd?define(function(){return t[e]=n(r)}):t[e]=n(r)}("enquire",this,function(e){"use strict";function t(e,t){for(var n=0,r=e.length;r>n&&!1!==t(e[n],n);n++);}function n(e){return"function"==typeof e}function r(e){this.options=e,!e.deferSetup&&this.setup()}function o(t,n){this.query=t,this.isUnconditional=n,this.handlers=[],this.mql=e(t);var r=this;this.listener=function(e){r.mql=e,r.assess()},this.mql.addListener(this.listener)}function i(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return r.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},o.prototype={addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,r){return t.equals(e)?(t.destroy(),!n.splice(r,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},i.prototype={register:function(e,r,i){var a=this.queries,s=i&&this.browserIsIncapable;return a[e]||(a[e]=new o(e,s)),n(r)&&(r={match:r}),function(e){return"[object Array]"===Object.prototype.toString.apply(e)}(r)||(r=[r]),t(r,function(t){n(t)&&(t={match:t}),a[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},new i}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.anime=t()}(this,function(){var e,t,n,r={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},o="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),i={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||i.svg(e)},num:function(e){return!isNaN(parseInt(e))},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nul:function(e){return"null"==typeof e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return i.hex(e)||i.rgb(e)||i.hsl(e)}},a=(t={},n={Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e,t){if(0===e||1===e)return e;var n=1-Math.min(t,998)/1e3,r=e/1-1;return-Math.pow(2,10*r)*Math.sin(2*(r-n/(2*Math.PI)*Math.asin(1))*Math.PI/n)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){n[e]=function(e){return Math.pow(e,t+2)}}),Object.keys(n).forEach(function(e){var r=n[e];t["easeIn"+e]=r,t["easeOut"+e]=function(e,t){return 1-r(1-e,t)},t["easeInOut"+e]=function(e,t){return.5>e?r(2*e,t)/2:1-r(-2*e+2,t)/2},t["easeOutIn"+e]=function(e,t){return.5>e?(1-r(1-2*e,t))/2:(r(2*e-1,t)+1)/2}}),t.linear=function(e){return e},t),s=function(e){return i.str(e)?e:e+""},u=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},c=function(e){if(i.col(e))return!1;try{return document.querySelectorAll(e)}catch(e){return!1}},l=function(e){return e.reduce(function(e,t){return e.concat(i.arr(t)?l(t):t)},[])},f=function(e){return i.arr(e)?e:(i.str(e)&&(e=c(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])},d=function(e,t){return e.some(function(e){return e===t})},p=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})},m=function(e){var t,n={};for(t in e)n[t]=e[t];return n},h=function(e,t){for(var n in t)e[n]=i.und(e[n])?t[n]:e[n];return e},g=function(e){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(e)[2]},v=function(e,t,n){return g(t)?t:-1<e.indexOf("translate")?g(n)?t+g(n):t+"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?t+"deg":t},y=function(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(u(t))||"0"},b=function(e,t){return i.dom(e)&&d(o,t)?"transform":i.dom(e)&&(e.getAttribute(t)||i.svg(e)&&e[t])?"attribute":i.dom(e)&&"transform"!==t&&y(e,t)?"css":i.nul(e[t])||i.und(e[t])?void 0:"object"},w=function(e,t){switch(b(e,t)){case"transform":return function(e,t){var n=-1<t.indexOf("scale")?1:0,r=e.style.transform;if(!r)return n;for(var o=/(\w+)\((.+?)\)/g,i=[],a=[],s=[];i=o.exec(r);)a.push(i[1]),s.push(i[2]);return(r=s.filter(function(e,n){return a[n]===t})).length?r[0]:n}(e,t);case"css":return y(e,t);case"attribute":return e.getAttribute(t)}return e[t]||0},A=function(e,t,n){return i.col(t)?t=i.rgb(t)?t:i.hex(t)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgb("+(e=parseInt(t[1],16))+","+parseInt(t[2],16)+","+(t=parseInt(t[3],16))+")"}(t):i.hsl(t)?function(e){e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e);var t=parseInt(e[1])/360,n=parseInt(e[2])/100,r=parseInt(e[3])/100;if(e=function(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+(t-e)*(2/3-n)*6:e},0==n)n=r=t=r;else{var o=.5>r?r*(1+n):r+n-r*n,i=2*r-o;n=e(i,o,t+1/3),r=e(i,o,t),t=e(i,o,t-1/3)}return"rgb("+255*n+","+255*r+","+255*t+")"}(t):void 0:g(t)?t:(!(e=g(e.to)?g(e.to):g(e.from))&&n&&(e=g(n)),e?t+e:t)},k=function(e){var t=/-?\d*\.?\d+/g;return{original:e,numbers:s(e).match(t)?s(e).match(t).map(Number):[0],strings:s(e).split(t)}},x=function(e,t,n,r){return"transform"===n?(n=e+"("+v(e,t.from,t.to)+")",t=e+"("+v(e,t.to)+")"):(e="css"===n?y(r,e):void 0,n=A(t,t.from,e),t=A(t,t.to,e)),{from:k(n),to:k(t)}},S=function(e,t){return function(e,t){var n={};return e.forEach(function(e){var r=JSON.stringify(t.map(function(t){return e[t]}));n[r]=n[r]||[],n[r].push(e)}),Object.keys(n).map(function(e){return n[e]})}(function(e,t){var n=[];return e.forEach(function(r,o){var a=r.target;return t.forEach(function(t){var s=b(a,t.name);if(s){var u;u=t.name;var c=t.value;u={from:1<(c=f(i.fnc(c)?c(a,o):c)).length?c[0]:w(a,u),to:1<c.length?c[1]:c[0]},(c=m(t)).animatables=r,c.type=s,c.from=x(t.name,u,c.type,a).from,c.to=x(t.name,u,c.type,a).to,c.round=i.col(u.from)||c.round?1:0,c.delay=(i.fnc(c.delay)?c.delay(a,o,e.length):c.delay)/D.speed,c.duration=(i.fnc(c.duration)?c.duration(a,o,e.length):c.duration)/D.speed,n.push(c)}})}),n}(e,t),["name","from","to","delay","duration"]).map(function(e){var t=m(e[0]);return t.animatables=e.map(function(e){return e.animatables}),t.totalDuration=t.delay+t.duration,t})},M=function(e,t){e.tweens.forEach(function(n){var r=n.from,o=e.duration-(n.delay+n.duration);n.from=n.to,n.to=r,t&&(n.delay=o)}),e.reversed=!e.reversed},$=function(e){var t=[],n=[];return e.tweens.forEach(function(e){"css"!==e.type&&"transform"!==e.type||(t.push("css"===e.type?u(e.name):"transform"),e.animatables.forEach(function(e){n.push(e.target)}))}),{properties:p(t).join(", "),elements:p(n)}},O=function(e,t){var n=Math.min(Math.max(t-e.delay,0),e.duration)/e.duration;return function(e,t,n){return t.reduce(function(t,r,o){return r=r||n[o-1],t+e[o-1]+r})}(e.to.numbers.map(function(t,r){var o=e.from.numbers[r],i=a[e.easing](n,e.elasticity);o=e.path?function(e,t){var n=e.path,r=e.value*t,o=(a=function(o){return o=o||0,n.getPointAtLength(1<t?e.value+o:r+o)})(),i=a(-1),a=a(1);switch(e.name){case"translateX":return o.x;case"translateY":return o.y;case"rotate":return 180*Math.atan2(a.y-i.y,a.x-i.x)/Math.PI}}(e,i):o+i*(t-o);return e.round?Math.round(o*e.round)/e.round:o}),e.to.strings,e.from.strings)},E=function(t,n){var r;t.currentTime=n,t.progress=n/t.duration*100;for(var o=0;o<t.tweens.length;o++){var i=t.tweens[o];i.currentValue=O(i,n);for(var a=i.currentValue,s=0;s<i.animatables.length;s++){var u=(c=i.animatables[s]).id,c=c.target,l=i.name;switch(i.type){case"css":c.style[l]=a;break;case"attribute":c.setAttribute(l,a);break;case"object":c[l]=a;break;case"transform":r||(r={}),r[u]||(r[u]=[]),r[u].push(a)}}}if(r)for(o in e||(e=(y(document.body,"transform")?"":"-webkit-")+"transform"),r)t.animatables[o].target.style[e]=r[o].join(" ");t.settings.update&&t.settings.update(t)},q=function(e){var t={};t.animatables=function(e){return(e=e?l(i.arr(e)?e.map(f):f(e)):[]).map(function(e,t){return{target:e,id:t}})}(e.targets),t.settings=h(e,r);var n,o=t.settings,a=[];for(n in e)if(!r.hasOwnProperty(n)&&"targets"!==n){var s=i.obj(e[n])?m(e[n]):{value:e[n]};s.name=n,a.push(h(s,o))}return t.properties=a,t.tweens=S(t.animatables,t.properties),t.duration=function(e){if(e.length)return Math.max.apply(Math,e.map(function(e){return e.totalDuration}))}(t.tweens)||e.duration,t.currentTime=0,t.progress=0,t.ended=!1,t},C=[],T=0,I=function(){var e=function(){T=requestAnimationFrame(t)},t=function(t){if(C.length){for(var n=0;n<C.length;n++)C[n].tick(t);e()}else cancelAnimationFrame(T),T=0};return e}(),D=function(e){var t=q(e),n={};return t.tick=function(e){t.ended=!1,n.start||(n.start=e),n.current=Math.min(Math.max(n.last+e-n.start,0),t.duration),E(t,n.current);var r=t.settings;r.begin&&n.current>=r.delay&&(r.begin(t),r.begin=void 0),n.current>=t.duration&&(r.loop?(n.start=e,"alternate"===r.direction&&M(t,!0),i.num(r.loop)&&r.loop--):(t.ended=!0,t.pause(),r.complete&&r.complete(t)),n.last=0)},t.seek=function(e){E(t,e/100*t.duration)},t.pause=function(){!function(e){$(e).elements.forEach(function(e){e.style.removeProperty("will-change")})}(t);var e=C.indexOf(t);-1<e&&C.splice(e,1)},t.play=function(e){t.pause(),e&&(t=h(q(h(e,t.settings)),t)),n.start=0,n.last=t.ended?0:t.currentTime,"reverse"===(e=t.settings).direction&&M(t),"alternate"!==e.direction||e.loop||(e.loop=1),function(e){var t=$(e);t.elements.forEach(function(e){e.style.willChange=t.properties})}(t),C.push(t),T||I()},t.restart=function(){t.reversed&&M(t),t.pause(),t.seek(0),t.play()},t.settings.autoplay&&t.play(),t};return D.version="1.1.1",D.speed=1,D.list=C,D.remove=function(e){e=l(i.arr(e)?e.map(f):f(e));for(var t=C.length-1;0<=t;t--)for(var n=C[t],r=n.tweens,o=r.length-1;0<=o;o--)for(var a=r[o].animatables,s=a.length-1;0<=s;s--)d(e,a[s].target)&&(a.splice(s,1),a.length||r.splice(o,1),r.length||n.pause())},D.easings=a,D.getValue=w,D.path=function(e){return{path:e=i.str(e)?c(e)[0]:e,value:e.getTotalLength()}},D.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},D}),function(e){function t(e,t){this.el=e,this.tines=[].slice.call(this.el.querySelectorAll(".kalimba__tine")),this.midiCode=108,this._initEvents()}t.prototype._initEvents=function(){var e=this,t=mobilecheck(),n={down:t?"touchstart":"mousedown",up:t?"touchend":"mouseup"};this.tines.forEach(function(r){r.addEventListener(n.down,function(n){var o=e._getNote(r);e.mdown=!0,t||(e.mouseLeaveFn=function(t){e._play(o,"off"),this.removeEventListener("mouseleave",e.mouseLeaveFn)},r.addEventListener("mouseleave",e.mouseLeaveFn)),e._play(o,"on",r)}),r.addEventListener(n.up,function(n){if(!e.mdown&&!t)return!1;e.mdown=!1;var o=e._getNote(r);t||this.removeEventListener("mouseleave",e.mouseLeaveFn),e._play(o,"off")}),t||r.addEventListener("mouseenter",function(t){if(!e.mdown)return!1;var n=e._getNote(r);e.mouseLeaveFn=function(t){e._play(n,"off"),this.removeEventListener("mouseleave",e.mouseLeaveFn)},r.addEventListener("mouseleave",e.mouseLeaveFn),e._play(n,"on",r)})}),t||(this.el.addEventListener("mousedown",function(t){e.mdown=!0}),this.el.addEventListener("mouseup",function(t){e.mdown=!1}),this.el.addEventListener("mouseleave",function(t){e.mdown=!1}))},t.prototype._getNote=function(e){return e.getAttribute("note:id")},t.prototype._play=function(e,t,n){if(!0===silence)return!1;e=parseInt(e)+21;MIDI.programChange(0,this.midiCode),"on"===t?(MIDI.noteOn(0,e,127,0),anime({targets:n,duration:1500,easing:"easeOutElastic",elasticity:900,translateY:[-3,0]})):MIDI.noteOff(0,e,4)},e.Kalimba=t}(window);let attempts={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12},colors={1:"#7b5",2:"#fd5",3:"#e34"},gameEverSet=!1,silence=!0,difficulty=1,essai=0,nthgame=0,gamestate=0,currentPage=0,pagesCount=0,currentAnchor="",soundEverActivated=!1;function playSound(e){if(!1===silence){document.getElementsByTagName("audio")[e].play()}}function sleepingGame(){for(let e=essai-1;e<13;e++)$(`.${Object.keys(attempts)[e]}`).attr("disabled","disabled"),$(`.${Object.keys(attempts)[e]}`).css("background-color","rgb(235,235,228)"),$(`#${Object.keys(attempts)[e]}`).css("background-color","rgb(55,55,55)"),$(`#${Object.keys(attempts)[e]}`).prop("disabled","true"),$("#giveup").prop("disabled","true")}function sleepingTry(e){$(`.${Object.keys(attempts)[e-1]}`).attr("disabled","disabled"),$(`.${Object.keys(attempts)[e-1]}`).css("background-color","rgb(235,235,228)"),$(`#${Object.keys(attempts)[e-1]}`).css("background-color","rgb(55,55,55)"),$(`#${Object.keys(attempts)[e-1]}`).prop("disabled","true"),$(`.${e}`).removeAttr("id")}function activeTry(e){$(`#${Object.keys(attempts)[e-1]}`).css("background-color","white"),$(`.${Object.keys(attempts)[e-1]}`).css("background-color","black"),$(`.${e}`).attr("id","current"),$(`#${Object.keys(attempts)[e-1]}`).removeAttr("disabled"),$(`.${Object.keys(attempts)[e-1]}`).removeAttr("disabled")}function activate(e){e.forEach(function(e){$(`#${e}`).removeAttr("disabled"),$(`#${e}`).addClass("activebutton"),$(`#${e}`).removeClass("inactivebutton")})}function inactivate(e){e.forEach(function(e){$(`#${e}`).prop("disabled","true"),$(`#${e}`).removeClass("activebutton"),$(`#${e}`).addClass("inactivebutton")})}function gameEnded(){inactivate(["giveup","help"]),activate(["lvlchange"])}function setDifficulty(e){switch(e){case 1:$("#lvl").removeClass("green"),$("#lvl").addClass("yellow"),$("#lvl").html("Niveau II"),difficulty=2;break;case 2:$("#lvl").removeClass("yellow"),$("#lvl").addClass("red"),$("#lvl").html("Niveau III"),difficulty=3;break;case 3:$("#lvl").removeClass("red"),$("#lvl").addClass("green"),$("#lvl").html("Niveau I"),difficulty=1}}function setRustine(){let e=window.innerWidth-118;window.innerWidth<480&&(e+=2),e+="px",$("#rustine").css("width",e)}function setGame(){$("#lvlchange").on("click",function(){playSound(8),setDifficulty(difficulty)}),$("#start").on("click",startGame),$("#instructions").on("click",function(){$(".how").toggle("slow")}),$("#infos").on("click",function(){$(".further").toggle("slow")}),$("#statistics").on("click",function(){$("#stats").html().length>20?$("#stats").html(" "):$.ajax({type:"get",url:"php/stats.php",success:function(e){$("#stats").html(e)}})}),$("#help").on("click",function(){$.ajax({type:"get",url:"php/help.php",success:function(e){$("#answer").html(e),inactivate(["help"])}})}),$("#comments").on("click",function(){$("#winners").html().length>20?$("#winners").html(" "):$.ajax({type:"get",url:"php/comments.php",success:function(e){$("#winners").html(e),pagesCount=$(".hidden").length,$(".page1").toggleClass("hidden"),currentPage=1,$("#pageSelect").on("click",goToPage),$(".nextPage").on("click",goNextPage),$(".prevPage").on("click",goPrevPage)}})}),$("#newgame").on("click",function(){playSound(4),$("#help").css("background-position","-10px -94px"),$(".tentries").prop("disabled",!1).val(""),$(".result").html(""),inactivate(["newgame","giveup"]),activate(["help"]);for(let e=0;e<13;e++)sleepingTry(e);activate(["help"]),launch()}),$("#giveup").on("click",function(){$("#help").css("background-position","-94px -10px"),playSound(5),$.ajax({type:"get",url:"php/abort.php",success:function(e){sleepingGame(),$("#answer").html(e),gameEnded()}})}),$(".game").on("click",onClickExecute)}function launch(){essai=1,$(".tentries").css("background-color",colors[difficulty]),$(".tries").css("opacity","1"),activeTry(essai),activate(["help"]),$.ajax({type:"post",url:"php/initd.php",data:{difficulty:difficulty},success:function(e){inactivate(["lvlchange"])}})}function onClickExecute(){let e=$(this).attr("id");if(attempts[e]!=essai)return void $(`#${e}try`).html(`<span class="error bg-black">Vous êtes au n°${essai} !</span>`);let t=$(`input.${e}`).val();null!==t.match(/[a-zA-zÉéÀàÈèÙùÂâÊêÎîÔôÛûËëÏïÜüŸÿçÇ]{5}/)?(document.body.className="loading",$.ajax({type:"post",url:"php/gamed.php",data:{saisie:t,try:e},success:function(t){$(`#${e}try`).html(t),t.includes("Bravo")&&(playSound(6),gameEnded(),$(`.${e}`).attr("disabled","disabled"),sleepingGame(),sleepingTry(essai),submitScore(),$("#answer").html('<p class="bg-white"><textarea id="commentaire" placeholder="Votre commentaire"></textarea><button id="write">Ajouter mon commentaire</button><span></p>'),$("#write").on("click",addComm)),t.includes("solution")&&(gameEnded(),$("#help").css("background-position","-94px -10px")),t.includes("summary")&&!t.includes("Bravo")&&(sleepingTry(essai),$(`#${e}try`).addClass("bg-white"),$(`.${Object.keys(attempts)[essai-1]}`).attr("disabled","disabled"),activeTry(essai+1),1==essai&&(activate(["newgame"]),activate(["giveup"])),essai++),document.body.className=""}})):$(`#${e}try`).html("Veuillez saisir un mot de 5 lettres.")}function openscore(){window.open("highscores.phtml","highscores","height=600, width=600, top=100, left=100, toolbar=no, menubar=yes, location=no, resizable=yes, scrollbars=no, status=no")}function startGame(){$("#start").css("background-position","-94px -178px"),inactivate(["start"]),$(".gameline").css("display","block"),launch()}function submitScore(){let e=$(this).attr("id");$.ajax({type:"post",url:"php/podium.php",success:function(t){$(`#${e}try`).html(t),document.body.className="",$("#addname").on("click",specifyName),1==essai&&activate(["newgame"])}})}function specifyName(){let e=$("#playername").val();""!==e.trim()?$.ajax({type:"post",url:"php/updatename.php",data:{name:e},success:function(e){$("#wellmessage").html(e),e.includes("caractères")&&$("#addname").on("click",specifyName)}}):$("#success span").html("Veuillez écrirer un nom.")}function addComm(){let e=$("#commentaire").val();""!==e.trim()?$.ajax({type:"post",url:"php/addcomment.php",data:{comment:e},success:function(e){$("#answer").html(e),e.includes("caractères")&&$("#write").on("click",addComm)}}):$("#success span").html("Veuillez écrirer un commentaire.")}function goToPage(){let e=$("#nthpage").val();$(`.page${currentPage}`).toggleClass("hidden"),$(`.page${e}`).toggleClass("hidden"),currentPage=e}function goNextPage(){currentPage<pagesCount&&($(`.page${currentPage}`).toggleClass("hidden"),$(`.page${currentPage+1}`).toggleClass("hidden"),currentPage++)}function goPrevPage(){currentPage>1&&($(`.page${currentPage}`).toggleClass("hidden"),$(`.page${currentPage-1}`).toggleClass("hidden"),currentPage--)}document.addEventListener("DOMContentLoaded",function(e){setRustine(),window.addEventListener("resize",function(){setRustine()}),$("#sound").click(function(){let e="";if(e=(silence=!silence)?"off":"on",$("#sound").html(`<img src="img/audio-${e}.png" alt="" />`),!soundEverActivated){let e=document.querySelector(".content--instrument > .kalimba");mobilecheck();soundEverActivated=!0,MIDI.loadPlugin({soundfontUrl:"./soundfont/",instruments:["kalimba"],onsuccess:function(){document.body.classList.remove("loading"),new Kalimba(e)}})}}),$("#light").click(function(){if(0===gamestate)document.body.className="loading",!1===gameEverSet&&(setGame(),gameEverSet=!0),$("#light").css("background-position","-178px -178px"),activate(["start"]),playSound(2),activate(["lvlchange","start","instructions","topscores","infos","statistics","comments"]),$("#effect").toggleClass("voile"),$("#effect2").toggleClass("voile"),$("#rustine").toggleClass("shadow"),$("#rustine").html('<p class="welcome">Bienvenue !</p>'),gamestate=1,document.body.className="";else{document.body.className="loading",playSound(3),$("#light").css("background-position","-178px -94px"),$("#start").css("background-position","-10px -10px"),inactivate(["help","giveup","newgame","lvlchange","start","instructions","topscores","infos","statistics","comments"]),$("#start").on("click",startGame),$("#start").prop("disabled","true");for(let e=0;e<13;e++)sleepingTry(e);$("#effect").toggleClass("voile"),$("#effect2").toggleClass("voile"),$("#rustine").toggleClass("shadow"),$("#rustine").empty(),$(".tentries").val(""),$(".tentries").attr("disabled","true"),$(".gameline").css("display","inline-block"),$("#stats").empty(),$(".result").empty(),$("#winners").empty(),$("#infos").hasClass("help")&&($(".further").toggle("slow"),$("#infos").removeClass("help")),$("#instructions").hasClass("help")&&($(".how").toggle("slow"),$("#instructions").removeClass("help")),setDifficulty(difficulty=3),gamestate=0,document.body.className=""}}),function(e,t){e(t).on("hashchange load",function(){!function(){let n=e(":target"),r=125;t.innerWidth<480&&(r=308);document.getElementById("projects");n.length>0&&n.offset().top;if(n.length>0){let t=n.offset().top-r;n.offsetTop,console.log(t),e("html, body").stop().animate({scrollTop:n.offset().top-r},300)}}()})}(jQuery,window),$(".anchors").on("click",function(e){let t=$(":target");if(currentAnchor!=t.attr("id")){(function(){let e=125;window.innerWidth<480&&(e=308),$("html, body").stop().animate({scrollTop:t.offset().top-e},300)})(),currentAnchor=t.attr("id")}});let t=document.getElementsByClassName("miniatures");for(let e=1;e<=t.length;e++)$(`#img${e}`).on("click",zoom);console.log("here")});var $jscomp$this=this;!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.anime=t()}(this,function(){function e(e){if(!E.col(e))try{return document.querySelectorAll(e)}catch(e){}}function t(e){return e.reduce(function(e,n){return e.concat(E.arr(n)?t(n):n)},[])}function n(t){return E.arr(t)?t:(E.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function r(e,t){return e.some(function(e){return e===t})}function o(e){var t,n={};for(t in e)n[t]=e[t];return n}function i(e,t){var n,r=o(e);for(n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function a(e,t){var n,r=o(e);for(n in t)r[n]=E.und(e[n])?t[n]:e[n];return r}function s(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(e))return e[2]}function u(e,t){return E.fnc(e)?e(t.target,t.id,t.total):e}function c(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function l(e,t){return E.dom(e)&&r(O,t)?"transform":E.dom(e)&&(e.getAttribute(t)||E.svg(e)&&e[t])?"attribute":E.dom(e)&&"transform"!==t&&c(e,t)?"css":null!=e[t]?"object":void 0}function f(e,t){switch(l(e,t)){case"transform":return function(e,t){var n=function(e){return-1<e.indexOf("translate")?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}(t);if(n=-1<t.indexOf("scale")?1:0+n,!(e=e.style.transform))return n;for(var r=[],o=[],i=[],a=/(\w+)\((.+?)\)/g;r=a.exec(e);)o.push(r[1]),i.push(r[2]);return(e=i.filter(function(e,n){return o[n]===t})).length?e[0]:n}(e,t);case"css":return c(e,t);case"attribute":return e.getAttribute(t)}return e[t]||0}function d(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e;case"-":return t-e;case"*":return t*e}}function p(e){return E.obj(e)&&e.hasOwnProperty("totalLength")}function m(e,t){function n(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var r=n(),o=n(-1),i=n(1);switch(e.property){case"x":return r.x;case"y":return r.y;case"angle":return 180*Math.atan2(i.y-o.y,i.x-o.x)/Math.PI}}function h(e,t){var n=/-?\d*\.?\d+/g;if(e=p(e)?e.totalLength:e,E.col(e))t=E.rgb(e)?e:E.hex(e)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgb("+(e=parseInt(t[1],16))+","+parseInt(t[2],16)+","+(t=parseInt(t[3],16))+")"}(e):E.hsl(e)?function(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e);e=parseInt(n[1])/360;var r=parseInt(n[2])/100;if(n=parseInt(n[3])/100,0==r)r=n=e=n;else{var o=.5>n?n*(1+r):n+r-n*r,i=2*n-o;r=t(i,o,e+1/3),n=t(i,o,e),e=t(i,o,e-1/3)}return"rgb("+255*r+","+255*n+","+255*e+")"}(e):void 0;else{var r=s(e);e=r?e.substr(0,e.length-r.length):e,t=t?e+t:e}return{original:t+="",numbers:t.match(n)?t.match(n).map(Number):[0],strings:t.split(n)}}function g(e,t){return t.reduce(function(t,n,r){return t+e[r-1]+n})}function v(e){return(e?t(E.arr(e)?e.map(n):n(e)):[]).filter(function(e,t,n){return n.indexOf(e)===t})}function y(e,t){var r=o(t);if(E.arr(e)){var i=e.length;2!==i||E.obj(e[0])?E.fnc(t.duration)||(r.duration=t.duration/i):e={value:e}}return n(e).map(function(e,n){return n=n?0:t.delay,e=E.obj(e)&&!p(e)?e:{value:e},E.und(e.delay)&&(e.delay=n),e}).map(function(e){return a(e,r)})}function b(e,t){var n;return e.tweens.map(function(r){var o=(r=function(e,t){var n,r={};for(n in e){var o=u(e[n],t);E.arr(o)&&1===(o=o.map(function(e){return u(e,t)})).length&&(o=o[0]),r[n]=o}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(r,t)).value,i=f(t.target,e.name),a=n?n.to.original:i,c=(a=E.arr(o)?o[0]:a,d(E.arr(o)?o[1]:o,a));i=s(c)||s(a)||s(i);return r.isPath=p(o),r.from=h(a,i),r.to=h(c,i),r.start=n?n.end:e.offset,r.end=r.start+r.delay+r.duration,r.easing=function(e){return E.arr(e)?q.apply(this,e):C[e]}(r.easing),r.elasticity=(1e3-Math.min(Math.max(r.elasticity,1),999))/1e3,E.col(r.from.original)&&(r.round=1),n=r})}function w(e,n){return t(e.map(function(e){return n.map(function(t){var n=l(e.target,t.name);if(n){var r=b(t,e);t={type:n,property:t.name,animatable:e,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}else t=void 0;return t})})).filter(function(e){return!E.und(e)})}function A(e,t,n){var r="delay"===e?Math.min:Math.max;return t.length?r.apply(Math,t.map(function(t){return t[e]})):n[e]}function k(e){var t,n=i(M,e),r=i($,e),o=function(e){var t=v(e);return t.map(function(e,n){return{target:e,id:n,total:t.length}})}(e.targets),s=[],u=a(n,r);for(t in e)u.hasOwnProperty(t)||"targets"===t||s.push({name:t,offset:u.offset,tweens:y(e[t],r)});return a(n,{animatables:o,animations:e=w(o,s),duration:A("duration",e,r),delay:A("delay",e,r)})}function x(e){function t(){return window.Promise&&new Promise(function(e){return f=e})}function n(e){return p.reversed?p.duration-e:e}function r(e){for(var t=0,n={},r=p.animations,o={};t<r.length;){var i=r[t],a=i.animatable,s=i.tweens;o.tween=s.filter(function(t){return e<t.end})[0]||s[s.length-1],o.isPath$0=o.tween.isPath,o.round=o.tween.round,o.eased=o.tween.easing(Math.min(Math.max(e-o.tween.start-o.tween.delay,0),o.tween.duration)/o.tween.duration,o.tween.elasticity),s=g(o.tween.to.numbers.map(function(e){return function(t,n){return t=(n=e.isPath$0?0:e.tween.from.numbers[n])+e.eased*(t-n),e.isPath$0&&(t=m(e.tween.value,t)),e.round&&(t=Math.round(t*e.round)/e.round),t}}(o)),o.tween.to.strings),T[i.type](a.target,i.property,s,n,a.id),i.currentValue=s,t++,o={isPath$0:o.isPath$0,tween:o.tween,eased:o.eased,round:o.round}}if(n)for(var u in n)S||(S=c(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[u].target.style[S]=n[u].join(" ");p.currentTime=e,p.progress=e/p.duration*100}function o(e){p[e]&&p[e](p)}function i(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(e){var a=p.duration,c=p.offset,m=p.delay,h=p.currentTime,g=p.reversed,v=n(e);if((v=Math.min(Math.max(v,0),a))>c&&v<a?(r(v),!p.began&&v>=m&&(p.began=!0,o("begin")),o("run")):(v<=c&&0!==h&&(r(0),g&&i()),v>=a&&h!==a&&(r(a),g||i())),e>=a&&(p.remaining?(u=s,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),f(),d=t(),p.completed||(p.completed=!0,o("complete"))),l=0),p.children)for(e=p.children,a=0;a<e.length;a++)e[a].seek(v);o("update")}e=void 0===e?{}:e;var s,u,l=0,f=null,d=t(),p=k(e);return p.reset=function(){var e=p.direction,t=p.loop;p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===e,p.remaining="alternate"===e&&1===t?2:t},p.tick=function(e){s=e,u||(u=s),a((l+s-u)*x.speed)},p.seek=function(e){a(n(e))},p.pause=function(){var e=I.indexOf(p);-1<e&&I.splice(e,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,u=0,l=p.completed?0:n(p.currentTime),I.push(p),D||B())},p.reverse=function(){p.reversed=!p.reversed,u=0,l=n(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=d,p.reset(),p.autoplay&&p.play(),p}var S,M={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},$={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},O="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),E={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||E.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return E.hex(e)||E.rgb(e)||E.hsl(e)}},q=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(t,n,r,o){if(0<=t&&1>=t&&0<=r&&1>=r){var i=new Float32Array(11);if(t!==n||r!==o)for(var a=0;11>a;++a)i[a]=e(.1*a,t,r);return function(a){if(t===n&&r===o)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,u=1;10!==u&&i[u]<=a;++u)s+=.1;u=s+(a-i[--u])/(i[u+1]-i[u])*.1;var c=3*(1-3*r+3*t)*u*u+2*(3*r-6*t)*u+3*t;if(.001<=c){for(s=0;4>s&&0!==(c=3*(1-3*r+3*t)*u*u+2*(3*r-6*t)*u+3*t);++s){var l=e(u,t,r)-a;u=u-l/c}a=u}else if(0===c)a=u;else{u=s,s=s+.1;var f=0;do{0<(c=e(l=u+(s-u)/2,t,r)-a)?s=l:u=l}while(1e-7<Math.abs(c)&&10>++f);a=l}return e(a,n,o)}}}}(),C=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),r={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,n){return 1-e(1-t,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,n){return.5>t?e(2*t,n)/2:1-e(-2*t+2,n)/2}]},o={linear:q(.25,.25,.75,.75)},i={};for(t in r)i.type=t,r[i.type].forEach(function(e){return function(t,r){o["ease"+e.type+n[r]]=E.fnc(t)?t:q.apply($jscomp$this,t)}}(i)),i={type:i.type};return o}(),T={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,o){r[o]||(r[o]=[]),r[o].push(t+"("+n+")")}},I=[],D=0,B=function(){function e(){D=requestAnimationFrame(t)}function t(t){var n=I.length;if(n){for(var r=0;r<n;)I[r]&&I[r].tick(t),r++;e()}else cancelAnimationFrame(D),D=0}return e}();return x.version="2.0.1",x.speed=1,x.running=I,x.remove=function(e){e=v(e);for(var t=I.length-1;0<=t;t--)for(var n=I[t],o=n.animations,i=o.length-1;0<=i;i--)r(e,o[i].animatable.target)&&(o.splice(i,1),o.length||n.pause())},x.getValue=f,x.path=function(t,n){var r=E.str(t)?e(t)[0]:t,o=n||100;return function(e){return{el:r,property:e,totalLength:r.getTotalLength()*(o/100)}}},x.setDashoffset=function(e){var t=e.getTotalLength();return e.setAttribute("stroke-dasharray",t),t},x.bezier=q,x.easings=C,x.timeline=function(e){var t=x(e);return t.duration=0,t.children=[],t.add=function(e){return n(e).forEach(function(e){var n=e.offset,r=t.duration;e.autoplay=!1,e.offset=E.und(n)?r:d(n,r),(e=x(e)).duration>r&&(t.duration=e.duration),t.children.push(e)}),t},t},x.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},x}),function(e){"undefined"==typeof module?this.charming=e:module.exports=e}(function(e,t){"use strict";var n=(t=t||{}).tagName||"span",r=null!=t.classPrefix?t.classPrefix:"char",o=1,i=function(e){for(var t=e.parentNode,i=e.nodeValue,a=i.length,s=-1;++s<a;){var u=document.createElement(n);r&&(u.className=r+o,o++),u.appendChild(document.createTextNode(i[s])),t.insertBefore(u,e)}t.removeChild(e)};return function e(t){for(var n=[].slice.call(t.childNodes),r=n.length,o=-1;++o<r;)e(n[o]);t.nodeType===Node.TEXT_NODE&&i(t)}(e),e}),function(e){function t(e){this.DOM={},this.DOM.el=e,this.DOM.wrapper=this.DOM.el.querySelector(".folder__icon"),this.DOM.back=this.DOM.wrapper.querySelector(".folder__icon-img--back"),this.DOM.cover=this.DOM.wrapper.querySelector(".folder__icon-img--cover"),this.DOM.feedback=this.DOM.el.querySelector(".folder__feedback"),this.DOM.preview=this.DOM.el.querySelector(".folder__preview"),this.DOM.previewElems=this.DOM.preview.children,this.totalPreview=this.DOM.previewElems.length,this._initEvents()}function n(e){t.call(this,e),[].slice.call(this.DOM.previewElems).forEach(function(e){charming(e)}),this.DOM.letters=[].slice.call(this.DOM.preview.querySelectorAll("span"))}t.prototype._removeAnimeTargets=function(){anime.remove(this.DOM.preview),anime.remove(this.DOM.previewElems),anime.remove(this.DOM.wrapper),anime.remove(this.DOM.cover),anime.remove(this.DOM.el),this.DOM.feedback&&(anime.remove(this.DOM.feedback),this.DOM.feedback.style.opacity=0),this.DOM.letters&&anime.remove(this.DOM.letters)},t.prototype._initEvents=function(){const e=this;this._mouseenterFn=function(){e.intimeout=setTimeout(function(){e._removeAnimeTargets(),e._in()},75)},this._mouseleaveFn=function(){clearTimeout(e.intimeout),e._removeAnimeTargets(),e._out()},this.DOM.wrapper.addEventListener("mouseenter",this._mouseenterFn),this.DOM.wrapper.addEventListener("mouseleave",this._mouseleaveFn)},t.prototype._in=function(){[].slice.call(this.DOM.previewElems).forEach(function(e){})},t.prototype._out=function(){[].slice.call(this.DOM.previewElems).forEach(function(e){})},n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype._in=function(){const e=this;anime({targets:this.DOM.letters,duration:20,delay:function(e,t){return 20*t},easing:"linear",opacity:[0,1],begin:function(){e.DOM.preview.style.opacity=1}}),anime({targets:this.DOM.cover,duration:300,easing:"easeOutExpo",rotateX:[0,-30]})},n.prototype._out=function(){this.DOM.preview.style.opacity=0,anime({targets:this.DOM.cover,duration:300,easing:"easeOutExpo",rotateX:0})},e.DurgaFx=n}(window);class Portfolio{constructor(e){if(this.activeContent=null,this.activeItem=null,this.container=document.querySelector(e),null===this.container)throw new Error(`L'élement ${e} n'existe pas`);if(this.children=Array.prototype.slice.call(this.container.querySelectorAll(".js-item")),window.location.hash.startsWith("#")){let e=this.container.querySelector(window.location.hash);null!==e&&this.show(e)}}slideDown(e){let t=e.offsetHeight;e.style.height="0px",e.style.transitionDuration=".5s",e.offsetHeight,e.style.height=t+"px",window.setTimeout(function(){e.style.height=null},500)}slideUp(e){let t=e.offsetHeight;e.style.height=t+"px",e.offsetHeight,e.style.height="0px",window.setTimeout(function(){e.parentNode.removeChild(e)},500)}scrollTo(e,t=0){window.scrollTo({behavior:"smooth",left:0,top:e.offsetTop-t})}}class PortfolioFlex extends Portfolio{injectContent(e,t){let n,r=this.children.findIndex(t=>t===e),o=e.offsetTop;for(n=r;n<this.children.length&&!(this.children[n].offsetTop>o);n++);this.children[n-1].after(t)}}new Portfolio("#js-portfolio"),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("after")||Object.defineProperty(e,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.parentNode.insertBefore(t,this.nextSibling)}})});